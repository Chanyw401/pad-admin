(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-088d1beb"],{"0964":function(t,e,l){},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"841c":function(t,e,l){"use strict";var a=l("d784"),o=l("825a"),i=l("1d80"),s=l("129f"),r=l("14c3");a("search",1,(function(t,e,l){return[function(e){var l=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,l):new RegExp(e)[t](String(l))},function(t){var a=l(e,t,this);if(a.done)return a.value;var i=o(t),n=String(this),p=i.lastIndex;s(p,0)||(i.lastIndex=0);var c=r(i,n);return s(i.lastIndex,p)||(i.lastIndex=p),null===c?-1:c.index}]}))},eb1d:function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"container"},[l("div",{staticClass:"table-page"},[l("div",{staticClass:"table-search-box"},[l("el-form",{attrs:{inline:!0,model:t.searchData},nativeOn:{submit:function(t){t.preventDefault()}}},[l("el-form-item",{attrs:{label:"样本编号："}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100"},model:{value:t.searchData.title,callback:function(e){t.$set(t.searchData,"title",e)},expression:"searchData.title"}})],1),l("el-form-item",{attrs:{label:"姓名："}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100"},model:{value:t.searchData.title,callback:function(e){t.$set(t.searchData,"title",e)},expression:"searchData.title"}})],1),l("el-form-item",{attrs:{label:"送检方："}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100"},model:{value:t.searchData.title,callback:function(e){t.$set(t.searchData,"title",e)},expression:"searchData.title"}})],1),l("el-form-item",{attrs:{label:"样本状态："}},[l("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.searchData.bannerStatus,callback:function(e){t.$set(t.searchData,"bannerStatus",e)},expression:"searchData.bannerStatus"}},[l("el-option",{attrs:{label:"未设置",value:"0"}}),l("el-option",{attrs:{label:"已设置",value:"1"}})],1)],1),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("查 询")]),l("el-button",{on:{click:t.resetNews}},[t._v("重 置")])],1)],1)],1),l("div",{staticClass:"table-box"},[l("div",{staticClass:"table-box-head"},[l("div",{staticClass:"table-box-operate"},[l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.importBox.show=!0}}},[t._v(" 批量导入 "),l("i",{staticClass:"btn-icon btn-icon-import-white el-icon--right"})]),l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v(" 新增 "),l("i",{staticClass:"btn-icon btn-icon-new-white el-icon--right"})]),l("el-button",{on:{click:t.delBatch}},[t._v(" 批量删除 "),l("i",{staticClass:"btn-icon btn-icon-delete el-icon--right"})])],1),l("div",{staticClass:"table-box-title"},[t._v("报告管理")])]),l("el-table",{ref:"table",attrs:{data:t.tableObj.list,stripe:""}},[l("el-table-column",{attrs:{type:"selection",width:"100px"}}),l("el-table-column",{attrs:{type:"index",label:"序号",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"sampleid",label:"样本编号",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"sampleusername",label:"姓名",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"age",align:"center",label:"年龄"}}),l("el-table-column",{attrs:{prop:"sex",label:"性别",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"checker",label:"送检方",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"samplestatus",label:"样本状态",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"binddate",label:"更新时间",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"releaseStatus",label:"更新人",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{label:"操作",width:"140px",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[""==e.row.samplestatus?l("i",{staticClass:"btn-icon btn-icon-reback",attrs:{title:"同步"},on:{click:function(l){return t.reback(e.row)}}}):t._e(),l("i",{staticClass:"btn-icon btn-icon-down",attrs:{title:"下载"},on:{click:function(l){return t.pdf(e.row)}}}),l("i",{staticClass:"btn-icon btn-icon-edit",attrs:{title:"编辑"},on:{click:function(l){return t.edit(e.row)}}}),l("i",{staticClass:"btn-icon btn-icon-delete",attrs:{title:"删除"},on:{click:function(l){return t.del([e.row.id])}}})]}}])})],1),l("table-page",{attrs:{"current-page":t.searchData.pageNum,"page-size":t.searchData.pageSize,total:t.tableObj.total,layout:"total, prev, pager, next",change:t.search},on:{"update:currentPage":function(e){return t.$set(t.searchData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.searchData,"pageNum",e)},"update:pageSize":function(e){return t.$set(t.searchData,"pageSize",e)},"update:page-size":function(e){return t.$set(t.searchData,"pageSize",e)}}})],1)]),l("el-dialog",{attrs:{title:t.uploadBox.title,visible:t.uploadBox.show,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){return t.$set(t.uploadBox,"show",e)}}},[l("el-form",{ref:"uploadBox",attrs:{model:t.uploadBox.data,rules:t.uploadBox.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"样本编号：",prop:"sampleid"}},[l("el-input",{attrs:{disabled:t.uploadBox.data.id,placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.data.sampleid,callback:function(e){t.$set(t.uploadBox.data,"sampleid","string"===typeof e?e.trim():e)},expression:"uploadBox.data.sampleid"}})],1),l("el-form-item",{attrs:{label:"姓名：",prop:"sampleusername"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.data.sampleusername,callback:function(e){t.$set(t.uploadBox.data,"sampleusername","string"===typeof e?e.trim():e)},expression:"uploadBox.data.sampleusername"}})],1),l("el-form-item",{attrs:{label:"送检方：",prop:"checker"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.data.checker,callback:function(e){t.$set(t.uploadBox.data,"checker","string"===typeof e?e.trim():e)},expression:"uploadBox.data.checker"}})],1),l("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.data.remark,callback:function(e){t.$set(t.uploadBox.data,"remark","string"===typeof e?e.trim():e)},expression:"uploadBox.data.remark"}})],1)],1),l("div",{staticClass:"tx-center"},[l("el-button",{attrs:{type:"primary"},on:{click:t.submitUpload}},[t._v("确定")]),l("el-button",{on:{click:function(e){t.uploadBox=!1}}},[t._v("取消")])],1)],1),l("el-dialog",{attrs:{title:t.userInfoBox.title,visible:t.userInfoBox.show,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(e){return t.$set(t.userInfoBox,"show",e)}}},[l("el-form",{ref:"uploadBox",attrs:{model:t.uploadBox,"label-width":"120px"}},[l("div",{staticClass:"line-title"},[t._v("基本消息")]),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"姓名：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"样本编号：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1)],1),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"年龄：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"报告日期：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1)],1),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"性别：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"备注：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1)],1),l("div",{staticClass:"line-title"},[t._v("报告总结")]),l("el-form-item",{attrs:{label:"",prop:"title"}},[l("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1),l("div",{staticClass:"line-title"},[t._v("您的结果预览")]),l("el-form-item",{attrs:{label:"菌群健康：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1),l("el-form-item",{attrs:{label:"疾病管理：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1),l("el-form-item",{attrs:{label:"营养评估：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1),l("div",{staticClass:"line-title"},[t._v("肠道菌群总结状况")]),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"检测到菌种数量：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"肠道类型：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1)],1),l("div",{staticClass:"line-title"},[t._v("肠道菌群类型及分散图")]),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[t._v(" 菌群平衡： ")]),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"进度条：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"评分：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"状态：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1)],1),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[t._v(" 菌群多样性： ")]),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"进度条：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"评分：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"状态：",prop:"title"}},[l("el-input",{attrs:{placeholder:"请输入",maxlength:"100","show-word-limit":""},model:{value:t.uploadBox.title,callback:function(e){t.$set(t.uploadBox,"title","string"===typeof e?e.trim():e)},expression:"uploadBox.title"}})],1)],1)],1)],1),l("div",{staticClass:"tx-center"},[l("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确定")]),l("el-button",{on:{click:function(e){t.uploadBox.show=!1}}},[t._v("取消")])],1)],1),l("import-templet",{attrs:{url:t.importBox.url,file:t.importBox.templet,"on-success":t.onSuccessImport},model:{value:t.importBox.show,callback:function(e){t.$set(t.importBox,"show",e)},expression:"importBox.show"}})],1)},o=[],i=(l("4160"),l("ac1f"),l("841c"),l("159b"),{components:{},data:function(){return{tableObj:{total:0,list:[]},searchData:{title:"",releaseStatus:null,bannerStatus:null,menuId:null,pageNum:1,pageSize:10},importBox:{show:!1,url:"/admin/sample/import",templet:"/static/templet/news.xlsx"},uploadBox:{type:"add",title:"新增用户",show:!1,data:{checker:"",remark:"",sampleid:"",sampleusername:"",id:void 0},rules:{sampleid:[{required:!0,message:"请输入样本编号",trigger:"blur"}],sampleusername:[{required:!0,message:"请输入样本姓名",trigger:"blur"}],checker:[{required:!0,message:"请输入检测人",trigger:"blur"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"}]}},userInfoBox:{title:"用户详情",show:!1,data:{menuId:null,title:null,source:null,releaseTime:null,coverUrl:null,content:null}}}},created:function(){this.search()},mounted:function(){},methods:{onSuccessImport:function(t){t||this.$tool.msg({type:"success",message:"部分导入成功,部分账号格式不对无法导入"}),this.searchData.pageNum=1,this.search()},resetNews:function(){this.searchData.pageNum=1,this.searchData.loginName="",this.searchData.title="",this.searchData.releaseStatus=null,this.searchData.bannerStatus=null},delBatch:function(){var t=this.$refs.table.selection,e=[];t.forEach((function(t){e.push(t.id)})),this.del(e)},del:function(t){var e=this;t.length?this.$tool.confirm().then((function(){e.$axios.post("/admin/sample/del",{ids:t},{loading:!0}).then((function(){e.search(),e.$tool.msg({type:"success",message:"删除成功"})}))})):this.$tool.msg({type:"warning",message:"请选择一条或多条数据！"})},search:function(t){var e=this;"search"==t&&(this.searchData.pageNum=1),this.$axios.post("/admin/sample/page",this.searchData,{loading:!0}).then((function(t){e.tableObj.list=t.list||[],e.tableObj.total=t.total}))},add:function(){Object.assign(this.uploadBox.data,{checker:"",remark:"",sampleid:"",sampleusername:"",id:void 0}),this.uploadBox.type="add",this.uploadBox.title="新增",this.uploadBox.show=!0},submitUpload:function(){var t=this;this.$refs.uploadBox.validate((function(e,l){if(!e){var a;for(var o in l){a=l[o];break}return t.$tool.msg({type:"error",message:a[0].message}),!1}var i="/admin/sample/add";void 0!=t.uploadBox.data.id&&(i="/admin/sample/update"),t.$axios.post(i,t.uploadBox.data,{loading:!0}).then((function(){t.uploadBox.show=!1,t.uploadBox.data.id||(t.searchData.pageNum=1),t.search(),t.$tool.msg({type:"success",message:t.uploadBox.data.id?"修改成功":"新增成功"})}))}))},reset:function(){this.searchData.pageNum=1,this.searchData.loginName="",this.searchData.userName="",this.searchData.userType="",this.searchData.status="",this.search()},pdf:function(t){window.open(window.location.origin+"/admin/sample/down-pdf?sampleid="+t.sampleid+"&token="+sessionStorage.getItem("token"))},reback:function(t){var e=this;this.$axios.post("/gh/sych",{sampleid:t.id}).then((function(){e.search(),e.$tool.msg({type:"success",message:"数据同步成功"})}))},edit:function(t){for(var e in this.uploadBox.type="edit",this.uploadBox.title="编辑",this.uploadBox.show=!0,this.uploadBox.data.id=t.id,this.uploadBox.data)this.uploadBox.data[e]=t[e]}}}),s=i,r=(l("f506"),l("2877")),n=Object(r["a"])(s,a,o,!1,null,"1e272a2c",null);e["default"]=n.exports},f506:function(t,e,l){"use strict";l("0964")}}]);